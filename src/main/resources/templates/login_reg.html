
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<title>表单</title>

<link href="css/bootstrap.min.css" rel="stylesheet" />
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<!--jquery.validate-->
<script type="text/javascript" src="js/jquery.validate.min.js"></script>
<script type="text/javascript" src="js/message.js"></script>
<style type="text/css">
body {
	background: url(imgs/bg.jpg) no-repeat;
	background-size: cover;
	font-size: 16px;
}

.form {
	background: rgba(255, 255, 255, 0.2);
}



.glyph {
	display: inline-block;
	top: 31px;
	left: 5px;
	position: relative;
	color: #aaa;
}

input[type="text"], input[type="password"] {
	padding-left: 30px;
}

.checkbox {
	padding-left: 21px;
}
</style>
<style type="text/css" th:utext="'/register'==${#httpServletRequest.getRequestURI()}?
'#login_form {display: none ;} #register_form {display: block;}': '#login_form {display: block ;} #register_form {display: none;}
'"></style>
</head>
<body>
	<div class="container">
		<div class="row" style="margin: 40px 0px 0px 0px;">
			<div class="col-xs-12 col-sm-4 col-sm-offset-4 form">
				<div class="col-xs-12 col-sm-10 col-sm-offset-1">
					<div>
						<span style="color: red;" th:if="${param.error}"
							th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}">用户名或密码错误！
						</span>
					</div>
					<div>
						<span style="color: red;"
							th:utext="${#httpServletRequest.getAttribute('rmsg')}">用户名或密码错误！
						</span>
					</div>

					<form class="form-horizontal" name="f" id="login_form"
						th:action="@{/login}" method="POST">
						<h4 class="form-title text-center">请输入帐号密码</h4>
						<div class="form-group">
							<span class="glyph glyphicon glyphicon-user"></span> <input
								class="form-control required" type="text" placeholder="用户名"
								name="username" autofocus="autofocus" maxlength="16" />
						</div>
						<div class="form-group">
							<span class="glyph glyphicon glyphicon-lock"></span> <input
								class="form-control required" type="password" placeholder="密码"
								name="password" maxlength="16" />
						</div>

						<div class="form-group">
							<span onclick="change()"
								class="glyph glyphicon glyphicon-refresh"></span><input
								class="form-control required" type="text" placeholder="验证码"
								name="yzm" maxlength="16" />
						</div>
						<div class="form-group">
							<img id="img" style="margin-top: 15px;" src="/yzm.png"
								onclick="change()" /> <span style="color: red;">点击图片更换</span>
						</div>
						<div class="form-group">
							<a href="javascript:;" id="register_btn"
								class="btn btn-info pull-left">注册帐号</a>
							<div class="form-group">
								<input type="submit" class="btn btn-success pull-right"
									value="登录 " />
							</div>
						</div>
					</form>
					<form class="form-horizontal" id="register_form"
						th:action="@{/register}" method="post">
						<h4 class="form-title text-center">注册帐号</h4>
						<div class="form-group">
							<span class="glyph glyphicon glyphicon-user"></span> <input
								class="form-control required" type="text" placeholder="邮箱、姓名、手机号"
								name="id" autofocus="autofocus" />
						</div>
						<div class="form-group">
							<span class="glyph glyphicon glyphicon-lock"></span> <input
								class="form-control required" type="password" placeholder="密码"
								id="register_password" name="password" />
						</div>
						<div class="form-group">
							<span class="glyph glyphicon glyphicon-repeat"></span> <input
								class="form-control required" type="password" placeholder="重复密码"
								name="rpassword" />
						</div>
						<div class="form-group">
							<span onclick="change()"
								class="glyph glyphicon glyphicon-refresh"></span><input
								class="form-control required" type="text" placeholder="验证码"
								name="yzm" maxlength="16" />
						</div>
						<div class="form-group">
							<img id="img" style="margin-top: 15px;" src="/yzm.png"
								onclick="change()" /> <span style="color: red;">点击图片更换</span>
						</div>
						<div class="form-group">
							<a href="javascript:;" class="btn btn-info pull-left"
								id="login_btn">帐号登录 </a> <input type="submit"
								class="btn btn-success pull-right" value="注册 " />
						</div>
					</form>
				</div>
			</div>
		</div>
		<!--row结束-->
	</div>
</body>
<script type="text/javascript">
	function change() {
		document.getElementById("img").src = "/yzm.pngs?id="
				+ new Date().getTime();
	}
</script>
</html>
